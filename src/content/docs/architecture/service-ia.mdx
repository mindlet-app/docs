---
title: Service Intelligence Artificielle
description: Architecture et fonctionnement du service IA de Mindlet bas√© sur LangGraph
sidebar:
  order: 4
---

import { Aside, Badge, Card, CardGrid, Steps, TabItem, Tabs } from '@astrojs/starlight/components';

# ü§ñ Service Intelligence Artificielle

<Badge text="LangGraph" variant="success" />
<Badge text="Mistral AI" variant="note" />
<Badge text="Python" variant="caution" />

## Vue d'ensemble

Le service IA est le c≈ìur de Mindlet, une plateforme de traitement de contenu **multimodal** bas√©e sur **LangGraph**. Elle permet de :

- üìù **Extraire** du contenu depuis diff√©rentes sources (texte, PDF, images, audio, vid√©os YouTube, sites web)
- üî¢ **G√©n√©rer des embeddings** vectoriels via Mistral AI
- üé¥ **Cr√©er des cartes d'apprentissage** intelligentes (flashcards, QCM, etc.)

<Aside type="note">
  Notre technologie d'IA propri√©taire est capable d'analyser, comprendre et transformer n'importe quel contenu multimodal en outils d'apprentissage interactifs.
</Aside>

## Stack technique

| Composant | Technologie | R√¥le |
|-----------|-------------|------|
| **Orchestration** | LangGraph | Graphes d'agents intelligents |
| **LLM Principal** | Mistral AI (mistral-medium-latest) | G√©n√©ration de texte |
| **Embeddings** | mistral-embed (1024 dimensions) | Vectorisation des contenus |
| **Vision** | mistral-small-latest | Analyse d'images |
| **OCR** | mistral-ocr-latest | Reconnaissance de texte |
| **Transcription** | voxtral-mini-latest | Audio vers texte |
| **Stockage** | AWS S3 | Fichiers et m√©dias |
| **Framework** | LangChain | Cha√Ænes de traitement |

## Architecture globale

Le syst√®me est compos√© de **3 graphes LangGraph** principaux qui orchestrent le traitement :

```mermaid
flowchart TB
    subgraph "Mindlet AI Platform"
        INPUT["üì• Inputs<br/>(Text, PDF, Image, Audio, YouTube, Website)"]
        
        subgraph "Processing Layer"
            EG["üîÑ Embedding Graph<br/>(Single Resource)"]
            BEG["üì¶ Batch Embedding Graph<br/>(Multiple Resources)"]
            CGG["üé¥ Card Generator Graph<br/>(Agentic)"]
        end
        
        OUTPUT["üì§ Outputs"]
    end
    
    INPUT --> |"Single Resource"| EG
    INPUT --> |"Multiple Resources"| BEG
    EG --> |"Embedded Chunks"| CGG
    BEG --> |"Aggregated Chunks"| CGG
    
    EG --> OUTPUT
    BEG --> OUTPUT
    CGG --> OUTPUT
```

## Les 3 graphes principaux

<CardGrid>
  <Card title="Embedding Graph" icon="document">
    Traitement d'une ressource unique avec d√©tection automatique du type d'input et routage vers le pipeline appropri√©.
  </Card>
  <Card title="Batch Embedding Graph" icon="list-format">
    Traitement de plusieurs ressources en une seule invocation avec agr√©gation des r√©sultats.
  </Card>
  <Card title="Card Generator Graph" icon="rocket">
    Graphe agentic sophistiqu√© pour la g√©n√©ration intelligente de cartes d'apprentissage.
  </Card>
</CardGrid>

## Types d'input support√©s

```python
class InputType(str, Enum):
    """Types d'input pour le graph embedding"""
    AUDIO = "audio"       # Fichiers audio (mp3, wav, m4a, flac, ogg)
    YOUTUBE = "youtube"   # URLs YouTube
    DOCUMENT = "document" # PDFs
    IMAGE = "image"       # Images (jpg, png, webp, gif)
    WEBSITE = "website"   # URLs de sites web
    TEXT = "text"         # Texte brut
    VIDEO = "video"       # Fichiers vid√©o (mp4, avi, mov, mkv, webm)
```

## Pipeline de traitement unifi√©

<Steps>
1. **D√©tection du type d'input**
   - Analyse automatique de la ressource
   - Routage vers le pipeline appropri√©

2. **Extraction du contenu**
   - PDF : Parsing texte ou OCR selon la complexit√©
   - Image : Analyse vision avec Mistral
   - Audio : Transcription avec Voxtral
   - Vid√©o YouTube : API transcription ou fallback audio
   - Site web : Crawl et conversion Markdown

3. **D√©tection de contenu complexe**
   - Identification des tables, code, formules
   - S√©lection du splitter appropri√©

4. **Chunking intelligent**
   - D√©coupage en segments de 512 tokens
   - Chevauchement de 15% pour la coh√©rence

5. **Enrichissement (si n√©cessaire)**
   - Enrichissement LLM des chunks complexes
   - Pr√©servation de la structure s√©mantique

6. **G√©n√©ration des embeddings**
   - Vectorisation via mistral-embed
   - Dimension : 1024
   - Batch de 50 textes par appel
</Steps>

## Diagramme du Embedding Graph

```mermaid
graph TD;
    __start__([__start__]):::first
    input_router(input_router)
    audio_input_check(audio_input_check)
    youtube_input_check(youtube_input_check)
    image_input_check(image_input_check)
    text_input_check(text_input_check)
    website_input_check(website_input_check)
    document_input_check(document_input_check)
    detect_complex_content(detect_complex_content)
    splitter_selection(splitter_selection)
    splitter_application(splitter_application)
    chunk_enrichment(chunk_enrichment)
    embedding_generation(embedding_generation)
    __end__([__end__]):::last
    
    __start__ --> input_router;
    input_router -.-> audio_input_check;
    input_router -.-> document_input_check;
    input_router -.-> image_input_check;
    input_router -.-> text_input_check;
    input_router -.-> website_input_check;
    input_router -.-> youtube_input_check;
    
    text_input_check --> detect_complex_content;
    detect_complex_content --> splitter_selection;
    splitter_selection --> splitter_application;
    splitter_application -. enrich .-> chunk_enrichment;
    splitter_application -. skip .-> embedding_generation;
    chunk_enrichment --> embedding_generation;
    embedding_generation --> __end__;
    
    classDef default fill:#f2f0ff,line-height:1.2
    classDef first fill-opacity:0
    classDef last fill:#bfb6fc
```

## Configuration et constantes

<Tabs>
  <TabItem label="Chunking">
    ```python
    # === Chunking ===
    CHUNK_SIZE = 512              # Taille des chunks en tokens
    CHUNK_OVERLAP_PERCENT = 0.15  # 15% de chevauchement
    CHUNK_OVERLAP = 77            # ~77 tokens de chevauchement
    ```
  </TabItem>
  
  <TabItem label="Embeddings">
    ```python
    # === Embeddings Mistral ===
    EMBEDDING_MODEL = "mistral-embed"
    EMBEDDING_DIMENSION = 1024
    EMBEDDING_BATCH_SIZE = 50     # Textes par appel API
    ```
  </TabItem>
  
  <TabItem label="Limites">
    ```python
    # === Limites ===
    MAX_PDF_SIZE_MB = 50
    MAX_PDF_PAGES = 1000
    MAX_AUDIO_DURATION_SECONDS = 900  # 15 minutes
    ```
  </TabItem>
  
  <TabItem label="Mod√®les">
    ```python
    # === Mod√®les Mistral ===
    OCR_MODEL = "mistral-ocr-latest"
    TRANSCRIPTION_MODEL = "voxtral-mini-latest"
    VISION_MODEL = "mistral-small-latest"
    LLM_MODEL = "mistral-medium-latest"
    ```
  </TabItem>
</Tabs>

## Structure d'un chunk embedd√©

```python
{
    "id": "chunk_001",
    "text": "Contenu du chunk...",
    "embedding": [0.123, 0.456, ...],  # 1024 dimensions
    "metadata": {
        "source": "document.pdf",
        "page": 1,
        "chunk_index": 0,
        "has_complex_content": False
    }
}
```

## Extensions support√©es

| Type | Extensions |
|------|------------|
| **PDF** | `.pdf` |
| **Images** | `.jpg`, `.jpeg`, `.png`, `.webp`, `.gif` |
| **Audio** | `.wav`, `.mp3`, `.m4a`, `.flac`, `.ogg` |
| **Vid√©o** | `.mp4`, `.avi`, `.mov`, `.mkv`, `.webm` |

## M√©triques et performance

| M√©trique | Description | Cible |
|----------|-------------|-------|
| **Latence embedding** | Temps pour g√©n√©rer les embeddings | < 5s / chunk |
| **Qualit√© extraction** | Pr√©cision de l'extraction de contenu | > 95% |
| **Taux de succ√®s** | Ressources trait√©es sans erreur | > 98% |
| **Throughput batch** | Ressources trait√©es par minute | > 20 |

## Architecture d√©taill√©e

Pour plus de d√©tails sur chaque composant :

<CardGrid>
  <Card title="Pipelines de traitement" icon="setting">
    D√©tails des pipelines PDF, Image, Audio, YouTube et Website.
    
    [Voir les pipelines ‚Üí](/architecture/pipelines-traitement/)
  </Card>
  <Card title="Graphes LangGraph" icon="rocket">
    Architecture d√©taill√©e des graphes d'embedding et batch.
    
    [Voir les graphes ‚Üí](/architecture/graphes-langgraph/)
  </Card>
  <Card title="G√©n√©ration de cartes" icon="star">
    Architecture agentic du Card Generator Graph.
    
    [Voir la g√©n√©ration ‚Üí](/architecture/generation-cartes/)
  </Card>
</CardGrid>

---

*Intelligence artificielle multimodale au service de l'apprentissage personnalis√©.*
