---
title: Vue d'ensemble de l'architecture
description: Architecture technique globale du projet Mindlet
sidebar:
  order: 1
---

import { Aside, Card, CardGrid, TabItem, Tabs } from '@astrojs/starlight/components';

# ğŸ—ï¸ Architecture technique

<Aside type="note">
  Mindlet repose sur une **architecture n-tiers** moderne, sÃ©parant clairement le stockage des donnÃ©es, leur prÃ©sentation et leur traitement.
</Aside>

## Vue d'ensemble

Notre architecture est composÃ©e de trois couches principales :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COUCHE PRÃ‰SENTATION                       â”‚
â”‚                  (React Native Mobile App)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTPS / REST API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COUCHE MÃ‰TIER                            â”‚
â”‚              (Laravel API + Service IA)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COUCHE DONNÃ‰ES                           â”‚
â”‚        (PostgreSQL + Qdrant + MinIO)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Composants principaux

<CardGrid>
  <Card title="Frontend" icon="laptop">
    **React Native** - Application mobile cross-platform (iOS & Android)
  </Card>
  <Card title="Backend API" icon="setting">
    **Laravel** - API RESTful robuste et scalable
  </Card>
  <Card title="Service IA" icon="rocket">
    **LangChain/LangGraph** - Orchestration des modÃ¨les de langage
  </Card>
  <Card title="DonnÃ©es" icon="document">
    **PostgreSQL + Qdrant + MinIO** - Stockage relationnel, vectoriel et objets
  </Card>
</CardGrid>

## Architecture cloud

Notre infrastructure est dÃ©ployÃ©e sur des services cloud europÃ©ens pour garantir la conformitÃ© RGPD :

![Architecture Cloud](../../../assets/elements/cloud-architecture.png)

### Composants cloud

| Composant | Service | Fournisseur |
|-----------|---------|-------------|
| **Orchestration** | Kubernetes | OVHcloud |
| **Base de donnÃ©es** | PostgreSQL Managed | OVHcloud |
| **Load Balancer** | Cloud Load Balancer | OVHcloud |
| **Serveurs** | VPS | Hetzner |
| **CDN** | - | Europe |

## Architecture n-tiers dÃ©taillÃ©e

<Tabs>
  <TabItem label="PrÃ©sentation">
    ### Couche PrÃ©sentation (Frontend)
    
    La couche prÃ©sentation est responsable de l'interface utilisateur :
    
    - **Technologie** : React Native avec Expo
    - **Ã‰tat global** : Zustand
    - **Navigation** : React Navigation
    - **UI Components** : NativeWind (Tailwind CSS)
    - **RequÃªtes API** : Axios avec intercepteurs
    
    Cette couche ne contient **aucune logique mÃ©tier** et se contente de :
    - Afficher les donnÃ©es reÃ§ues de l'API
    - Capturer les interactions utilisateur
    - Envoyer les requÃªtes au backend
  </TabItem>
  
  <TabItem label="MÃ©tier">
    ### Couche MÃ©tier (Backend)
    
    La couche mÃ©tier implÃ©mente toute la logique applicative :
    
    **API Laravel :**
    - Authentification et autorisation
    - Validation des donnÃ©es
    - Logique mÃ©tier
    - Orchestration des services
    
    **Service IA :**
    - GÃ©nÃ©ration de contenu pÃ©dagogique
    - Analyse sÃ©mantique des documents
    - CrÃ©ation de questions/rÃ©ponses
    - Embeddings et recherche vectorielle
  </TabItem>
  
  <TabItem label="DonnÃ©es">
    ### Couche DonnÃ©es
    
    La couche donnÃ©es gÃ¨re la persistance :
    
    | Type | Technologie | Usage |
    |------|-------------|-------|
    | **Relationnel** | PostgreSQL | DonnÃ©es structurÃ©es (users, collections, cards) |
    | **Vectoriel** | Qdrant | Embeddings pour la recherche sÃ©mantique |
    | **Objets** | MinIO | Fichiers (images, PDFs, mÃ©dias) |
    | **Cache** | Redis | Sessions, cache applicatif |
  </TabItem>
</Tabs>

## Communication inter-services

### Frontend â†” Backend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTPS/TLS          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Mobile     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Laravel    â”‚
â”‚   React      â”‚      REST API JSON        â”‚   API        â”‚
â”‚   Native     â”‚                           â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CaractÃ©ristiques :**
- Communication via **HTTPS** exclusivement
- Format d'Ã©change : **JSON**
- Authentification : **JWT (Bearer Token)**
- Versioning API : **PrÃ©fixe /api/v1/**

### Backend â†” Service IA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       HTTP interne         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Laravel    â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Service    â”‚
â”‚   API        â”‚       REST/gRPC           â”‚   IA         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CaractÃ©ristiques :**
- Communication interne au cluster Kubernetes
- Appels synchrones pour les opÃ©rations rapides
- Jobs asynchrones pour les traitements longs (gÃ©nÃ©ration de contenu)

## ScalabilitÃ©

Notre architecture est conÃ§ue pour supporter une **montÃ©e en charge** :

### ScalabilitÃ© horizontale

- **Kubernetes HPA** : Auto-scaling des pods selon la charge CPU/mÃ©moire
- **Load Balancer** : Distribution de charge entre les instances
- **Stateless API** : Chaque instance peut traiter n'importe quelle requÃªte

### ScalabilitÃ© verticale

- **Workers dÃ©diÃ©s** : Pods spÃ©cialisÃ©s pour les traitements IA lourds
- **Queues** : Gestion asynchrone des tÃ¢ches longues
- **Base de donnÃ©es managed** : Scaling automatique par le provider

### Projections de charge

| Utilisateurs | Instances API | Instances IA | DB Connections |
|--------------|---------------|--------------|----------------|
| 100 | 2 | 1 | 10 |
| 1 000 | 4 | 2 | 50 |
| 10 000 | 8 | 4 | 100 |
| 100 000 | 16+ | 8+ | 200+ |

<Aside type="tip">
  L'architecture Kubernetes permet de **scaler automatiquement** en fonction de la demande, garantissant une disponibilitÃ© optimale mÃªme en cas de pics d'utilisation.
</Aside>

## Diagrammes

### ModÃ¨le Conceptuel de DonnÃ©es (MCD)

![MCD](../../../assets/elements/mcd.png)

### ModÃ¨le Physique de DonnÃ©es (MPD)

![MPD](../../../assets/elements/mpd.png)

---

*Architecture conÃ§ue pour la performance, la scalabilitÃ© et la maintenabilitÃ©.*
